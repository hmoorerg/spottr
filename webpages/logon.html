<DOCTYPE Html>

    <head>
        <title>
            Logon page
        </title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    </head>

        <Body style=
        "padding:15px; 
        align-content: center; 
        width:80%; margin:auto; 
        background-image:url(https://images.pexels.com/photos/949128/pexels-photo-949128.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940);
        background-size:cover;
        background-repeat: no-repeat; 
        background-color: black;">

        <div id=loginPage style="background-color: #EEEEEEAA; padding: 5%; box-shadow: 5px 10px 5px 4px #00000055;">
            <h1>Log on!</h1>
            
                <!--
                Name Gender Age City Email
            -->
                <!--Name: <br/>-->
                <input id=txtName type="text" name="user[name]" placeholder="Name" /><br />
                <br/>
                <button class="btn btn-default" id=btnSubmit onclick="tryLogin()"> Log on and search for partners!</button>
            
        </div>

        <script>
            var form = document.getElementById("loginPage")
            var txtName = document.getElementById("txtName")
            var btnSubmit = document.getElementById("btnSubmit")
            
            function tryLogin(){
                fetch('http://localhost:8080/getusers')
                    .then((data) => data.json())
                    .then((finishedData) => {
                        var name = "";
                        if (finishedData.some((person) => {
                            var match = person.name.toUpperCase() == txtName.value.toUpperCase()
                            if (match) {
                                name = person.name;
                            }
                            return match
                        })) {
                            console.log("found!")
                            sessionStorage.setItem("name",name)
                        }
                        else {
                            alert("User doesn't exist")
                        }
                    });               
            }
            

        </script>
    </Body>
</DOCTYPE>